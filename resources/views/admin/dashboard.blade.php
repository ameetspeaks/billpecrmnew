@extends('admin.layouts.app')@section('content')<style>    #order_stats img{        display: inline-flex !important;    }</style>    <link rel="stylesheet" href="{{asset('extra/css/desgin.css')}}">    <div class="container">        <div class="row " id="order_stats" style="row-gap: 30px;">            <div class="col-sm-6 col-lg-3">                <div class="__dashboard-card-2">                    <img src="{{ asset('admin/images/store.png') }}"                    alt="dashboard/pharmacy">                    <h6 class="name">Total number of stores :</h6>                    <a href="{{route('admin.storeDetails')}}"> <h3 class="count"> {{ $store }}</h3></a>                    <div class="subtxt"><b>{{$storeCountToday}}</b> Today Newly added Store</div>                </div>            </div>            <div class="col-sm-6 col-lg-3">                <div class="__dashboard-card-2">                    <img src="{{ asset('admin/images/transaction-history.png') }}"                        alt="dashboard/pharmacy">                    <h6 class="name">Total Bill History :</h6>                    <h3 class="count">{{ $bill }}</h3>                    <div class="subtxt"><b>{{$billCountToday}}</b> Today Bill Generate History</div>                </div>            </div>            <div class="col-sm-6 col-lg-3">                <div class="__dashboard-card-2">                    <img src="{{ asset('admin/images/money-bag.png') }}"                      alt="dashboard/pharmacy">                    <h6 class="name">Total Amount :</h6>                    <a href="{{route('admin.totalbilldetail')}}"><h3 class="count">₹{{ $totalAmount}}</h3></a>                    <div class="subtxt"><b>₹{{$totalAmountToday}}</b> Today Total Amount</div>                </div>            </div>            <div class="col-sm-6 col-lg-3">                <div class="__dashboard-card-2">                    <img src="{{ asset('admin/images/people.png') }}"                    alt="dashboard/pharmacy">                    <h6 class="name">Customers</h6>                    <h3 class="count">{{$totalCustomer}}</h3>                    <div class="subtxt"><b>{{$totalUniqueCustomers}}</b> Today added Customer</div>                </div>            </div>            <div class="col-sm-6 col-lg-6">                <div class="__dashboard-card-2">                    <img src="{{ asset('admin/images/document.png') }}"                    alt="dashboard/pharmacy">                    <h6 class="name">Paid Users</h6>                    <a href="{{route('admin.totalPaidUser')}}"><h3 class="count">{{$paidPackageCounts}}</h3></a>                    <div class="subtxt"><b>{{$todayPaidPackageCount}}</b> Today Paid Users</div>                </div>            </div>            <div class="col-sm-6 col-lg-6">                <div class="__dashboard-card-2">                    <img src="{{ asset('admin/images/jury.png') }}"                    alt="dashboard/pharmacy">                    <h6 class="name">Trial Users</h6>                    <a href="{{route('admin.viewTrialUser')}}"><h3 class="count">{{$trialPackage}}</h3></a>                    <div class="subtxt"><b>{{$todayTrailPackage}}</b> Today Trial Users</div>                </div>            </div>            <div class="col-md-6 col-xl-6 col-lg-6  col-12">                <div class="card h-100" id="top-selling-foods-view">                    <div class="card-header">                        Top Selling Items                    </div>                    <div class="card-body">                        <div class="top--selling">                            @foreach ($topSoldItems as $itemName => $soldCount)                                <a class="grid--card" href="#">                                    <img class="initial--28"                                        src="{{ $itemImages[$itemName] ?? 'https://admin.shrimatiji.store/assets/admin/img/placeholder-2.png' }}"                                        onerror="this.src='{{ asset('admin/images/default_image.png') }}'"                                        alt="{{ $itemName }} image">                                        <div class="cont pt-2">                                            <span class="fz--13">{{ ucfirst(strtolower($itemName)) }}</span>                                        </div>                                    <div class="ml-auto">                                        <span class="badge badge-soft">                                            Sold : {{ $soldCount }}                                        </span>                                    </div>                                </a>                            @endforeach                        </div>                    </div>                </div>            </div>            <div class="col-md-6 col-xl-6 col-lg-6 col-12">                <div class="card h-100" id="top-selling-stores-view">                    <div class="card-header">                        Top Stores selling                    </div>                    <div class="card-body">                        @if (count($topSellingStores) > 0)                            <div class="top--selling">                                @foreach ($topSellingStores as $store)                                    <a class="grid--card" href="#">                                        <div class="cont pt-2">                                            <span class="fz--13">{{ $store->shop_name }}</span>                                        </div>                                        <div class="ml-auto">                                            <span class="badge badge-soft">                                                Bill History Count: {{ $store->billHistory->count() }}                                            </span>                                        </div>                                    </a>                                @endforeach                            </div>                        @else                            <p>No sales data available for the top-selling stores.</p>                        @endif                    </div>                </div>            </div>            <div class="col-md-6 col-xl-6 col-lg-6 col-12">                <div class="card">                    <div class="card-header">                        Sales Overview                    </div>                    <div class="card-body">                        <!-- Sales chart -->                        <canvas id="salesChart"></canvas>                    </div>                </div>            </div>            <div class="col-md-6 col-xl-6 col-lg-6 col-12">                <div class="card">                    <div class="card-header">                        Orders Overview                    </div>                    <div class="card-body">                        <!-- Orders chart -->                        <canvas id="billCountChart"></canvas>                    </div>                </div>            </div>        </div>    </div>    <!-- Bootstrap JS -->    {{-- <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script> --}}    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>    {{-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script> --}}    <!-- Chart.js -->    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.min.js"></script>    <script>        var salesCanvas = document.getElementById("salesChart");        var salesChart = new Chart(salesCanvas, {            type: "bar",            data: {                labels: @json($dataBillChart->pluck('month')),                datasets: [                    {                        label: "Total Amount",                        data: @json($dataBillChart->pluck('total')),                        backgroundColor: 'rgba(75, 192, 192, 0.2)', // Background color                        borderColor: 'rgba(75, 192, 192, 1)',      // Border color                        borderWidth: 1,                            // Border width                    },                ],            },            options: {                responsive: true,            },        });    </script>    <script>        var billCountCanvas = document.getElementById("billCountChart");        var billCountChart = new Chart(billCountCanvas, {            type: "bar",            data: {                labels: @json($chartData->pluck('label')),                datasets: [                    {                        label: "Bill Count",                        data: @json($chartData->pluck('total')),                        backgroundColor: 'rgba(255, 182, 193, 0.5)', // Light pink color                        borderColor: 'rgba(255, 182, 193, 1)',      // Light pink color                        borderWidth: 1,                    },                ],            },            options: {                responsive: true,            },        });    </script>@endsection